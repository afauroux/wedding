<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Wedding Magda & Antoine</title>

  <style>
    html,
    body {
      margin: 0;
      display: flex;
      flex-flow: column;
      height: 100%;
    }
  </style>
  <!-- Link css file -->
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- Navigation bar -->
  <header class="header">

    <!-- L↑ogo -->
    <a class="logo" id="index" href="#index">Magda & Antoine's
      Wedding</a>
    <!-- Hamburger icon -->
    <input class="side-menu" type="checkbox" id="side-menu" />
    <label class="hamb" for="side-menu"><span class="hamb-line"></span></label>

    <!-- Menu -->
    <nav class="nav">
      <ul class="menu">
        <li><a class="nav-item nav-link" id="where" href="#where">Where</a></li>
        <li><a class="nav-item nav-link" id="reaching" href="#reaching">Reaching Poznań</a></li>
        <li><a class="nav-item nav-link" id="hotel" href="#hotel">Hotel</a></li>
        <!-- <li><a class="nav-item nav-link" id="see" href="#see">What to do see in Poznań</a></li>-->
        <li><a class="nav-item nav-link" id="lang" href="#lang">Basic Polish</a></li>
      </ul>
    </nav>
  </header>


  <!-- Page Content -->
  <iframe width="100%;" height="100%;" id="main" src="index.html">
  </iframe>


  <div id="loading-animation">Loading...</div>

  <!-- Footer -->
  <footer class="footer">
    <button onclick="sendEmail()" class="btn-send-email">
      Let us know that you're coming!
    </button>
  </footer>



  <script>
    addEventListener('hashchange', (event) => { });
    onhashchange = (event) => {
      let adr = location.hash.replace("#", "")
      let iframe = document.getElementById("main");
      console.log(adr);
      var source = adr + ".html";
      document.getElementById("side-menu").checked = false;
      iframe.setAttribute('src', source);

      /*for (let e of document.getElementsByClassName("nav-item")) {
        e.classList.remove("active")
      }
      let o = document.getElementsByName(adr);
      o.classList.add("active")*/
      reloadIframe()

    };

    function sendEmail() {
      window.location.href = 'mailto:magda.murawiecka@gmail.com?subject=Hello&body=Hello :-) I am happy to report that I will be there for your wedding !';
    }


    const iframe = document.getElementById('main');
    const loadingAnimation = document.getElementById('loading-animation');
    function reloadIframe() {
      let iframe = document.getElementById('main');
      let loadingAnimation = document.getElementById('loading-animation');
      loadingAnimation.style.display = 'block';
      iframe.src = iframe.src;
    }

    iframe.addEventListener('load', () => {
      loadingAnimation.style.display = 'none';
    });



  </script>

</body>

</html>
